############################################################################
# telemetron/apps/netstatus/Makefile
# --------------------------------------------------------------------------
# Author: Art Navsegda <artnavsegda@gmail.com>
#
# Файл рецептов для сборки приложения netstatus.
############################################################################

-include $(TOPDIR)/Make.defs

############################################################################
# Настройки приложения
# (переменные задаются в Kconfig и получают префикс `CONFIG_`)
# Данные настройки авто-генерируются при выполнении скрипта add_app.sh
############################################################################

CONFIG_TELEMETRON_APP_NETSTATUS_PRIORITY ?= SCHED_PRIORITY_DEFAULT
CONFIG_TELEMETRON_APP_NETSTATUS_STACKSIZE ?= 2048

APPNAME = netstatus
PRIORITY = $(CONFIG_TELEMETRON_APP_NETSTATUS_PRIORITY)
STACKSIZE = $(CONFIG_TELEMETRON_APP_NETSTATUS_STACKSIZE)

# Имя исполняемого файла
# (если собирается с поддержкой исполнения из файловой системы)
CONFIG_TELEMETRON_APP_NETSTATUS_PROGNAME ?= netstatus$(EXEEXT)
PROGNAME = $(CONFIG_TELEMETRON_APP_NETSTATUS_PROGNAME)

############################################################################
# Объявление настроек компиляции.
# --------------------------------------------------------------------------
# По большей части, эти настройки будут определены в секциях с подключением
# исходников и библиотек.
############################################################################

# Ассемблерные исходные файлы.
ASRCS =

# Директории для поиска заголовков
INC_DIRS =

# Исходные файлы .c
CSRCS =

# Макросы препроцессора (только сами определения, без флага -D)
DEFINES =

# Основной выполняемый файл программы
MAINSRC = netstatus_main.c

# Основные флаги компиляции
CFLAGS_MAIN = -std=c99 -funsigned-char -ffunction-sections -fdata-sections

# Заголовки, которые будут автоматически подключены ко всем исходным файлам
IMPLICIT_INCLUDES =



############################################################################
# Подключение исходников
############################################################################




############################################################################
# Подключение библиотек
# --------------------------------------------------------------------------
# Лучше всего, если библиотеки и модули будут настраиваться через Kconfig.
# Тогда зависимость от них нужно будет записывать в локальный файл Kconfig
# Но, в любом случае, здесь необходимо прописать пути к заголовкам библиотек
############################################################################

# Пример
# lib_foo
#INC_DIRS += /usr/share/lib_foo/include
#CSRCS    += /usr/share/lib_foo/src/src1.c



############################################################################
# Обработка настроек и формирование списка CFLAGS
############################################################################
CFLAGS_DEFS = $(patsubst %,-D%,$(DEFINES))
CFLAGS_INC_DIRS = $(patsubst %,-I %,$(INC_DIRS))
CFLAGS_IMPLICIT_INCLUDES = $(patsubst %, -include %,$(IMPLICIT_INCLUDES))

CFLAGS += $(CFLAGS_MAIN)
CFLAGS += $(CFLAGS_DEFS)
CFLAGS += $(CFLAGS_INC_DIRS)
CFLAGS += $(CFLAGS_IMPLICIT_INCLUDES)





include $(APPDIR)/Application.mk
